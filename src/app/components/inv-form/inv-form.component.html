<div class="mainCont">
  <mat-stepper [linear]="isLinear" #stepper>
    <mat-step [stepControl]="basicDetailsForm">
      <form [formGroup]="basicDetailsForm">
        <ng-template matStepLabel>Fill out your Personal details</ng-template>
        <div class="persCont">
          <img
            *ngIf="!(isSmallScreen$ | async)"
            src="assets/4372417.jpg"
            alt=""
          />
          <div class="itemCont" id="persContForm">
            <div>
              <mat-form-field>
                <mat-label>Full Name</mat-label>
                <input
                  matInput
                  placeholder="Last name, First name"
                  formControlName="name"
                  required
                />
                <mat-error
                  *ngIf="basicDetailsForm.controls['name'].hasError('required')"
                >
                  Name is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
            <mat-form-field>
              <mat-label>Gender</mat-label>
              <mat-select formControlName="gender" required>
                <mat-option value="M">Male</mat-option>
                <mat-option value="F">Female</mat-option>
              </mat-select>
              <mat-error
                *ngIf="basicDetailsForm.controls['gender'].hasError('required')"
              >
                Gender is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Age</mat-label>
              <input
                matInput
                placeholder="18"
                formControlName="age"
                required
                type="number"
              />
              <mat-error
                *ngIf="basicDetailsForm.controls['age'].hasError('required')"
              >
                Age is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Year/Form</mat-label>
              <input
                matInput
                placeholder="18"
                formControlName="formYear"
                required
                type="text"
              />
              <mat-error
                *ngIf="
                  basicDetailsForm.controls['formYear'].hasError('required')
                "
              >
                Year/Form is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Phone</mat-label>
              <input
                matInput
                type="number"
                placeholder="Phone"
                formControlName="phone"
                required
              />
              <mat-error
                *ngIf="basicDetailsForm.controls['phone'].hasError('required')"
              >
                Phone is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Course</mat-label>
              <mat-select formControlName="course" required>
                <mat-option value="olevel">O-Level</mat-option>
                <mat-option value="certificate">Certificate</mat-option>
                <mat-option value="diploma">Diploma</mat-option>
                <mat-option value="degree">Degree</mat-option>
                <mat-option value="na">Other</mat-option>
              </mat-select>
              <mat-error
                *ngIf="basicDetailsForm.controls['course'].hasError('required')"
              >
                Course is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field
              *ngIf="basicDetailsForm.controls['course'].value == 'na'"
            >
              <mat-label>Other</mat-label>
              <input
                matInput
                placeholder="Online Degree"
                formControlName="other"
              />
            </mat-form-field>
          </div>
        </div>

        <div>
          <button mat-raised-button color="primary" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="locationDetailsForm">
      <form [formGroup]="locationDetailsForm">
        <ng-template matStepLabel>Fill out your Location details</ng-template>
        <div class="persCont">
          <div class="itemCont">
            <div>
              <mat-form-field>
                <mat-label>Constituency</mat-label>
                <mat-select
                  formControlName="constituency"
                  (selectionChange)="filterWards()"
                  required
                >
                  <mat-option value="">Select One</mat-option>
                  <mat-option
                    *ngFor="let constit of migoriConstData"
                    [value]="constit['constituency']"
                    >{{ constit["constituency"] }}</mat-option
                  >
                </mat-select>
                <mat-error
                  *ngIf="
                    locationDetailsForm.controls['constituency'].hasError(
                      'required'
                    )
                  "
                >
                  Constituency is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
            <div>
              <mat-form-field>
                <mat-label>Ward</mat-label>
                <mat-select formControlName="ward" required>
                  <mat-option value="">Select One</mat-option>
                  <mat-option
                    *ngFor="let ward of selectedWards"
                    [value]="ward"
                    >{{ ward }}</mat-option
                  >
                </mat-select>
                <mat-error
                  *ngIf="
                    locationDetailsForm.controls['ward'].hasError('required')
                  "
                >
                  Ward is <strong>required</strong>
                </mat-error>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Village</mat-label>
                <input
                  matInput
                  placeholder="pinji"
                  formControlName="village"
                  required
                />
                <mat-error
                  *ngIf="
                    locationDetailsForm.controls['village'].hasError('required')
                  "
                >
                  Village is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <img
            *ngIf="!(isSmallScreen$ | async)"
            src="assets/4372417.jpg"
            alt=""
          />
        </div>

        <div>
          <button mat-raised-button color="primary" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="familyDetailsForm">
      <form [formGroup]="familyDetailsForm">
        <ng-template matStepLabel>Fill out your Family details</ng-template>
        <div class="persCont">
          <div class="itemCont">
            <div>
              <mat-form-field>
                <mat-label>Father's Name</mat-label>
                <input
                  matInput
                  placeholder="Last name, First name"
                  formControlName="fatherName"
                />
                <mat-error
                  *ngIf="
                    familyDetailsForm.controls['fatherName'].hasError(
                      'required'
                    )
                  "
                >
                  Father's name is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
            <div>
              <mat-form-field>
                <mat-label>Ward</mat-label>
                <mat-select formControlName="ward" required>
                  <mat-option value="">Select One</mat-option>
                  <mat-option
                    *ngFor="let ward of selectedWards"
                    [value]="ward"
                    >{{ ward }}</mat-option
                  >
                </mat-select>
                <mat-error
                  *ngIf="
                    locationDetailsForm.controls['ward'].hasError('required')
                  "
                >
                  Ward is <strong>required</strong>
                </mat-error>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Village</mat-label>
                <input
                  matInput
                  placeholder="pinji"
                  formControlName="village"
                  required
                />
                <mat-error
                  *ngIf="
                    locationDetailsForm.controls['village'].hasError('required')
                  "
                >
                  Village is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>
          <img
            *ngIf="!(isSmallScreen$ | async)"
            src="assets/4372417.jpg"
            alt=""
          />
        </div>

        <div>
          <button mat-raised-button color="primary" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <!-- <mat-step [stepControl]="buyerForm" label="Fill out the Buyer details">
      <form [formGroup]="buyerForm">
        <mat-form-field>
          <mat-label>Buyer Name/Business Name</mat-label>
          <input
            matInput
            placeholder="Last name, First name"
            formControlName="name"
            required
          />
          <mat-error
            *ngIf="myDetailsForm.controls['name'].hasError('required')"
          >
            Buyer Name is <strong>required</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Buyer Address</mat-label>
          <input
            matInput
            placeholder="52262 - 23233"
            formControlName="address"
            required
          />
          <mat-error
            *ngIf="myDetailsForm.controls['address'].hasError('required')"
          >
            Buyer Address is <strong>required</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Buyer Phone Number</mat-label>
          <input
            matInput
            placeholder="7017200192"
            formControlName="phoneNumber"
            required
          />
          <mat-error
            *ngIf="myDetailsForm.controls['phoneNumber'].hasError('required')"
          >
            Buyer Phone Number is <strong>required</strong>
          </mat-error>
          <mat-error
            *ngIf="myDetailsForm.controls['phoneNumber'].hasError('pattern')"
          >
            Buyer Phone Number is <strong>invalid</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Buyer Email</mat-label>
          <input
            matInput
            placeholder="abc@test.com"
            formControlName="email"
            required
          />
          <mat-error
            *ngIf="myDetailsForm.controls['email'].hasError('required')"
          >
            Buyer Email is <strong>required</strong>
          </mat-error>
          <mat-error *ngIf="myDetailsForm.controls['email'].hasError('email')">
            Buyer Email is <strong>invalid</strong>
          </mat-error>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step> -->

    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      <p>You are now done. Click on submit to generate the invoice</p>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button (click)="submit()" matStepperPrevious>Submit</button>
      </div>
    </mat-step>
  </mat-stepper>
</div>
